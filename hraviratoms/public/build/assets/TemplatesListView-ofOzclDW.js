import{_ as p,a as h,b as y}from"./Badge-DSfqQ8Of.js";import{r as x,j as w,f as i,g as t,k as f,l as _,t as n,x as c,F as k,A as b,z as u,o as a,q as v}from"./runtime-dom.esm-bundler-CaHSP4Q1.js";async function $(){try{const r=await fetch("/api/templates",{headers:{Accept:"application/json"}});return r.status===403?{templates:[],error:"Forbidden"}:r.ok?{templates:await r.json(),error:""}:{templates:[],error:"Не удалось загрузить шаблоны"}}catch{return{templates:[],error:"Ошибка при загрузке шаблонов"}}}const C={key:2,class:"grid gap-4 md:grid-cols-2"},V={class:"flex items-start justify-between gap-2"},j={class:"text-lg font-medium text-slate-900"},B={class:"mt-1 text-sm text-slate-600"},D={key:0,class:"text-right text-[11px]"},N={class:"mt-3 flex flex-wrap gap-2"},A=["href"],F={key:3,class:"mt-3 text-xs text-red-500"},P={__name:"TemplatesListView",setup(r){const o=x([]),m=x(!0),d=x(""),g=l=>`${window.location.origin}/demo/${l.key}`;return w(async()=>{m.value=!0,d.value="";const{templates:l,error:e}=await $();e?(d.value=e,o.value=[]):o.value=l,m.value=!1}),(l,e)=>(a(),i("section",null,[e[3]||(e[3]=t("div",{class:"mb-4"},[t("h1",{class:"text-xl sm:text-2xl font-semibold"},"Invitation templates"),t("p",{class:"mt-1 text-xs sm:text-sm text-slate-600"}," Выберите стиль приглашения, чтобы создать свой уникальный онлайн-инвайт. ")],-1)),m.value?(a(),f(p,{key:0,class:"rounded-2xl border bg-white p-4 text-sm text-slate-500 shadow-sm"},{default:n(()=>[...e[0]||(e[0]=[c(" Loading templates... ",-1)])]),_:1})):o.value.length?(a(),i("div",C,[(a(!0),i(k,null,b(o.value,s=>(a(),f(p,{key:s.id,class:"rounded-2xl border bg-white p-4 shadow-sm"},{default:n(()=>[t("div",V,[t("div",null,[t("h2",j,u(s.name),1),t("p",B,u(s.description||"—"),1)]),s.hasOwnProperty("is_active")?(a(),i("div",D,[v(h,{type:s.is_active?"success":"gray"},{default:n(()=>[c(u(s.is_active?"Active":"Inactive"),1)]),_:2},1032,["type"])])):_("",!0)]),t("div",N,[t("a",{href:g(s),target:"_blank",class:"rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-800 hover:bg-slate-50"}," Preview ",8,A),v(y,{variant:"primary",size:"sm",onClick:T=>l.$router.push({name:"invitations.new",params:{templateKey:s.key}})},{default:n(()=>[...e[2]||(e[2]=[c(" Create invitation ",-1)])]),_:1},8,["onClick"])])]),_:2},1024))),128))])):(a(),f(p,{key:1,class:"rounded-2xl border bg-white p-4 text-sm text-slate-500 shadow-sm"},{default:n(()=>[...e[1]||(e[1]=[c(" Пока нет ни одного шаблона. ",-1)])]),_:1})),d.value?(a(),i("p",F,u(d.value),1)):_("",!0)]))}};export{P as default};
